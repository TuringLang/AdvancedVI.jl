<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Location-Scale Variational Family · AdvancedVI.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AdvancedVI.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">AdvancedVI</a></li><li><a class="tocitem" href="../general/">General Usage</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><span class="tocitem">ELBO Maximization</span><ul><li><a class="tocitem" href="../elbo/overview/">Overview</a></li><li><a class="tocitem" href="../elbo/repgradelbo/">Reparameterization Gradient Estimator</a></li><li class="is-active"><a class="tocitem" href>Location-Scale Variational Family</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Constructors"><span>Constructors</span></a></li><li><a class="tocitem" href="#Gaussian-Variational-Families"><span>Gaussian Variational Families</span></a></li><li><a class="tocitem" href="#Sudent-t-Variational-Families"><span>Sudent-<span>$t$</span> Variational Families</span></a></li><li><a class="tocitem" href="#Laplace-Variational-families"><span>Laplace Variational families</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../optimization/">Optimization</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">ELBO Maximization</a></li><li class="is-active"><a href>Location-Scale Variational Family</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Location-Scale Variational Family</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/TuringLang/AdvancedVI.jl/blob/master/docs/src/locscale.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="locscale"><a class="docs-heading-anchor" href="#locscale">Location-Scale Variational Family</a><a id="locscale-1"></a><a class="docs-heading-anchor-permalink" href="#locscale" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>The <a href="https://en.wikipedia.org/wiki/Location%E2%80%93scale_family">location-scale</a> variational family is a family of probability distributions, where their sampling process can be represented as</p><p class="math-container">\[z \sim  q_{\lambda} \qquad\Leftrightarrow\qquad
z \stackrel{d}{=} C u + m;\quad u \sim \varphi\]</p><p>where <span>$C$</span> is the <em>scale</em>, <span>$m$</span> is the location, and <span>$\varphi$</span> is the <em>base distribution</em>. <span>$m$</span> and <span>$C$</span> form the variational parameters <span>$\lambda = (m, C)$</span> of <span>$q_{\lambda}$</span>.  The location-scale family encompases many practical variational families, which can be instantiated by setting the <em>base distribution</em> of <span>$u$</span> and the structure of <span>$C$</span>.</p><p>The probability density is given by</p><p class="math-container">\[  q_{\lambda}(z) = {|C|}^{-1} \varphi(C^{-1}(z - m))\]</p><p>and the entropy is given as</p><p class="math-container">\[  \mathbb{H}(q_{\lambda}) = \mathbb{H}(\varphi) + \log |C|,\]</p><p>where <span>$\mathbb{H}(\varphi)$</span> is the entropy of the base distribution. Notice the <span>$\mathbb{H}(\varphi)$</span> does not depend on <span>$\log |C|$</span>. The derivative of the entropy with respect to <span>$\lambda$</span> is thus independent of the base distribution.</p><h2 id="Constructors"><a class="docs-heading-anchor" href="#Constructors">Constructors</a><a id="Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Constructors" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>For stable convergence, the initial <code>scale</code> needs to be sufficiently large and well-conditioned.  Initializing <code>scale</code> to have small eigenvalues will often result in initial divergences and numerical instabilities.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="AdvancedVI.MvLocationScale" href="#AdvancedVI.MvLocationScale"><code>AdvancedVI.MvLocationScale</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MvLocationScale(location, scale, dist) &lt;: ContinuousMultivariateDistribution</code></pre><p>The location scale variational family broadly represents various variational families using <code>location</code> and <code>scale</code> variational parameters.</p><p>It generally represents any distribution for which the sampling path can be represented as follows:</p><pre><code class="language-julia hljs">  d = length(location)
  u = rand(dist, d)
  z = scale*u + location</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AdvancedVI.jl/blob/8ba65f39f8d40b4ed0c2d49584dc4b7246e14670/src/families/location_scale.jl#L2-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AdvancedVI.FullRankGaussian" href="#AdvancedVI.FullRankGaussian"><code>AdvancedVI.FullRankGaussian</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">FullRankGaussian(location, scale; check_args = true)</code></pre><p>Construct a Gaussian variational approximation with a dense covariance matrix.</p><p><strong>Arguments</strong></p><ul><li><code>location::AbstractVector{T}</code>: Mean of the Gaussian.</li><li><code>scale::LinearAlgebra.AbstractTriangular{T}</code>: Cholesky factor of the covariance of the Gaussian.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>check_args</code>: Check the conditioning of the initial scale (default: <code>true</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AdvancedVI.jl/blob/8ba65f39f8d40b4ed0c2d49584dc4b7246e14670/src/families/location_scale.jl#L121-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AdvancedVI.MeanFieldGaussian" href="#AdvancedVI.MeanFieldGaussian"><code>AdvancedVI.MeanFieldGaussian</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">MeanFieldGaussian(location, scale; check_args = true)</code></pre><p>Construct a Gaussian variational approximation with a diagonal covariance matrix.</p><p><strong>Arguments</strong></p><ul><li><code>location::AbstractVector{T}</code>: Mean of the Gaussian.</li><li><code>scale::Diagonal{T}</code>: Diagonal Cholesky factor of the covariance of the Gaussian.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>check_args</code>: Check the conditioning of the initial scale (default: <code>true</code>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/TuringLang/AdvancedVI.jl/blob/8ba65f39f8d40b4ed0c2d49584dc4b7246e14670/src/families/location_scale.jl#L141-L152">source</a></section></article><h2 id="Gaussian-Variational-Families"><a class="docs-heading-anchor" href="#Gaussian-Variational-Families">Gaussian Variational Families</a><a id="Gaussian-Variational-Families-1"></a><a class="docs-heading-anchor-permalink" href="#Gaussian-Variational-Families" title="Permalink"></a></h2><pre><code class="language-julia hljs">using AdvancedVI, LinearAlgebra, Distributions;
μ = zeros(2);

L = diagm(ones(2)) |&gt; LowerTriangular;
q = FullRankGaussian(μ, L)

L = ones(2) |&gt; Diagonal;
q = MeanFieldGaussian(μ, L)</code></pre><h2 id="Sudent-t-Variational-Families"><a class="docs-heading-anchor" href="#Sudent-t-Variational-Families">Sudent-<span>$t$</span> Variational Families</a><a id="Sudent-t-Variational-Families-1"></a><a class="docs-heading-anchor-permalink" href="#Sudent-t-Variational-Families" title="Permalink"></a></h2><pre><code class="language-julia hljs">using AdvancedVI, LinearAlgebra, Distributions;
μ = zeros(2);
ν = 3;

# Full-Rank 
L = diagm(ones(2)) |&gt; LowerTriangular;
q = MvLocationScale(μ, L, TDist(ν))

# Mean-Field
L = ones(2) |&gt; Diagonal;
q = MvLocationScale(μ, L, TDist(ν))</code></pre><h2 id="Laplace-Variational-families"><a class="docs-heading-anchor" href="#Laplace-Variational-families">Laplace Variational families</a><a id="Laplace-Variational-families-1"></a><a class="docs-heading-anchor-permalink" href="#Laplace-Variational-families" title="Permalink"></a></h2><pre><code class="language-julia hljs">using AdvancedVI, LinearAlgebra, Distributions;
μ = zeros(2);

# Full-Rank 
L = diagm(ones(2)) |&gt; LowerTriangular;
q = MvLocationScale(μ, L, Laplace())

# Mean-Field
L = ones(2) |&gt; Diagonal;
q = MvLocationScale(μ, L, Laplace())</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../elbo/repgradelbo/">« Reparameterization Gradient Estimator</a><a class="docs-footer-nextpage" href="../optimization/">Optimization »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Tuesday 10 September 2024 12:58">Tuesday 10 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
